<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>Academia Online - Inicio</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/inicio.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&display=swap" rel="stylesheet">
    <link rel="icon" href="{{ url_for('static', filename='imagenes/logo.jpeg') }}" type="image/x-icon">
</head>
<body>

<div class="layout">

  <!-- Sidebar -->
  <nav id="sidebar" class="bg-dark text-white p-3">

    <form class="mt-3" onsubmit="return false;">
      <input id="buscador" class="form-control mb-2" 
             type="search" 
             placeholder="Buscar curso..." 
             onkeyup="filtrarCursos()">
    </form>

    <ul class="nav flex-column">
      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="{{ url_for('index') }}">
          üè† Inicio
        </a>
      </li>

      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="{{ url_for('mis_compras') }}">
          üõí Mis Compras
        </a>
      </li>

      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="{{ url_for('profesor_crear_curso') }}">
          ‚ûï Crear Curso
        </a>
      </li>

      <li class="nav-item mb-2">
        <a class="nav-link text-white" href="{{ url_for('profesor_dashboard') }}">
          üë®‚Äçüè´ Profesores
        </a>
      </li>
    </ul>

  </nav>

<!-- CAT√ÅLOGO -->
<section>
    <h2 class="text-center mt-4">Cat√°logo de cursos disponibles</h2>

    <div class="cards-container">

        <!-- Curso 1 -->
        <div class="card curso-card" style="width: 18rem;">
            <img src="{{ url_for('static', filename='styles/imagenes/mentalidad.jpeg') }}" class="card-img-top" alt="">
            <div class="card-body">
                <h5 class="card-title">Introducci√≥n y mentalidad emprendedora</h5>
                <p class="card-text">
                    Este curso te ense√±a qu√© es emprender, los tipos de emprendimientos y c√≥mo empezar tu propio proyecto.
                </p>
                <a href="{{ url_for('curso1_introduccion') }}" class="btn btn-primary">Mostrar m√°s</a>
            </div>
        </div>

        <!-- Curso 2 -->
        <div class="card curso-card" style="width: 18rem;">
            <img src="{{ url_for('static', filename='styles/imagenes/joyeria.jpeg') }}" class="card-img-top" alt="">
            <div class="card-body">
                <h5 class="card-title">Joyer√≠a artesanal</h5>
                <p class="card-text">
                    Curso pr√°ctico donde los estudiantes aprenden a dise√±ar y crear piezas de joyer√≠a hechas a mano utilizando materiales como alambre, cuentas, piedras naturales y resinas. Incluye t√©cnicas b√°sicas, dise√±o creativo y c√≥mo montar un cat√°logo para vender.
                </p>
                <a href="#" class="btn btn-primary">Mostrar m√°s</a>
            </div>
        </div>

        <!-- Curso 3 -->
        <div class="card curso-card" style="width: 18rem;">
            <img src="{{ url_for('static', filename='styles/imagenes/programacion.jpeg') }}" class="card-img-top" alt="">
            <div class="card-body">
                <h5 class="card-title">Programaci√≥n b√°sica</h5>
                <p class="card-text">
                    Curso introductorio para aprender l√≥gica de programaci√≥n, variables, funciones y manejo b√°sico de datos. Ideal para quienes quieren comenzar en tecnolog√≠a sin experiencia previa.
                </p>
                <a href="#" class="btn btn-primary">Mostrar m√°s</a>
            </div>
        </div>

        <!-- Curso 4 -->
        <div class="card curso-card" style="width: 18rem;">
            <img src="{{ url_for('static', filename='styles/imagenes/cosmetic.jpeg') }}" class="card-img-top" alt="">
            <div class="card-body">
                <h5 class="card-title">Cosm√©tica natural casera</h5>
                <p class="card-text">
                    Ense√±a a elaborar productos como jabones artesanales, velas arom√°ticas, exfoliantes y cremas naturales usando ingredientes seguros y f√°ciles de conseguir.
                </p>
                <a href="#" class="btn btn-primary">Mostrar m√°s</a>
            </div>
        </div>

        <!-- Curso 5 -->
        <div class="card curso-card" style="width: 18rem;">
            <img src="{{ url_for('static', filename='styles/imagenes/reposteria.jpeg') }}" class="card-img-top" alt="">
            <div class="card-body">
                <h5 class="card-title">Reposter√≠a casera</h5>
                <p class="card-text">
                    Curso donde aprenden recetas b√°sicas (cupcakes, galletas, tortas) y c√≥mo presentar y vender sus productos.
                </p>
                <a href="#" class="btn btn-primary">Mostrar m√°s</a>
            </div>
        </div>

        <!-- Curso 6 -->
        <div class="card curso-card" style="width: 18rem;">
            <img src="{{ url_for('static', filename='styles/imagenes/bordado.jpeg') }}" class="card-img-top" alt="">
            <div class="card-body">
                <h5 class="card-title">Bordado y costura b√°sica</h5>
                <p class="card-text">
                    Ense√±a puntadas, dise√±o en tela, personalizaci√≥n de ropa y t√©cnicas de costura sencilla.
                </p>
                <a href="#" class="btn btn-primary">Mostrar m√°s</a>
            </div>
        </div>

        <!-- Curso 7 -->
        <div class="card curso-card" style="width: 18rem;">
            <img src="{{ url_for('static', filename='styles/imagenes/edicion_audio.jpeg') }}" class="card-img-top" alt="">
            <div class="card-body">
                <h5 class="card-title">Edici√≥n de audio y podcasts</h5>
                <p class="card-text">
                    Curso donde aprenden a grabar, editar y producir audios de calidad usando programas gratuitos. Incluye c√≥mo crear un podcast desde cero.
                </p>
                <a href="#" class="btn btn-primary">Mostrar m√°s</a>
            </div>
        </div>

        <!-- Curso 8 -->
        <div class="card curso-card" style="width: 18rem;">
            <img src="{{ url_for('static', filename='static/styles/imagenes/cat_and_dog.jpeg') }}" class="card-img-top" alt="">
            <div class="card-body">
                <h5 class="card-title">Cuidado de mascotas</h5>
                <p class="card-text">
                    Curso donde aprenden cuidado b√°sico, paseos, alimentaci√≥n y servicios para mascotas.
                </p>
                <a href="#" class="btn btn-primary">Mostrar m√°s</a>
            </div>
        </div>

        <!-- Curso 9 -->
        <div class="card curso-card" style="width: 18rem;">
            <img src="{{ url_for('static', filename='static/styles/imagenes/cultivo_en_casa.jpeg') }}" class="card-img-top" alt="">
            <div class="card-body">
                <h5 class="card-title">Huertas urbanas y cultivo en casa</h5>
                <p class="card-text">
                    Ense√±a c√≥mo sembrar en espacios peque√±os, cuidado de plantas y cosecha b√°sica.
                </p>
                <a href="#" class="btn btn-primary">Mostrar m√°s</a>
            </div>
        </div>

        <!-- Curso 10 -->
        <div class="card curso-card" style="width: 18rem;">
            <img src="{{ url_for('static', filename='static/styles/imagenes/digital_marketing.jpeg') }}" class="card-img-top" alt="">
            <div class="card-body">
                <h5 class="card-title">Marketing digital</h5>
                <p class="card-text">
                    Curso pr√°ctico sobre c√≥mo vender por internet: estrategias de redes, contenido, anuncios b√°sicos, embudos de venta y atenci√≥n al cliente.
                </p>
                <a href="#" class="btn btn-primary">Mostrar m√°s</a>
            </div>
        </div>

        <!-- Curso 11 -->
        <div class="card curso-card" style="width: 18rem;">
            <img src="{{ url_for('static', filename='static/styles/imagenes/marca_personal.jpeg') }}" class="card-img-top" alt="">
            <div class="card-body">
                <h5 class="card-title">Creaci√≥n de marca personal</h5>
                <p class="card-text">
                    Curso donde se ense√±a a construir una identidad propia en redes: estilo visual, comunicaci√≥n, tono, storytelling y c√≥mo destacarse en el area a desarrollar.
                </p>
                <a href="#" class="btn btn-primary">Mostrar m√°s</a>
            </div>
        </div>
      </div>

      
<section>
    <div id="contenedor-cursos" style="display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:16px; padding:20px;">
        <!-- Se llenar√° con JS -->
    </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
<script>
async function cargar(){
    const r = await fetch("/cursos");
    const cursos = await r.json();
    const cont = document.getElementById("contenedor-cursos");
    cont.innerHTML = "";
    cursos.forEach(c => {
        const div = document.createElement("div");
        div.style.background = "#fff";
        div.style.padding = "12px";
        div.style.borderRadius = "8px";
        div.style.boxShadow = "0 2px 6px rgba(0,0,0,0.08)";
        div.innerHTML = `
            <img src="${c.imagen_url || '/static/img/default.jpg'}" style="width:100%; height:160px; object-fit:cover; border-radius:6px;">
            <h3>${c.titulo}</h3>
            <p>${c.descripcion ? c.descripcion.substring(0,120) + '...' : ''}</p>
            <p><strong>Precio:</strong> $${c.precio}</p>
            <a href="/curso/${c.id}">Ver curso</a>
        `;
        cont.appendChild(div);
    });
}
cargar();
function filtrarCursos() {
    const input = document.getElementById("buscador").value.toLowerCase();

    // Filtrar cards est√°ticas
    const cards = document.querySelectorAll(".curso-card");
    cards.forEach(card => {
        const texto = card.innerText.toLowerCase();
        card.style.display = texto.includes(input) ? "" : "none";
    });

    // Filtrar cursos cargados din√°micamente
    const cursosDinamicos = document.querySelectorAll("#contenedor-cursos > div");
    cursosDinamicos.forEach(curso => {
        const texto = curso.innerText.toLowerCase();
        curso.style.display = texto.includes(input) ? "" : "none";
    });
}
</script>

</body>
</html>